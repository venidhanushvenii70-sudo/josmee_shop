{% extends 'base.html' %}
{% load static %}

{% block title %}Seller Dashboard - Josmee{% endblock %}

{% block content %}
<style>
/* Complete Meesho-style Dashboard - Blue Theme */
.meesho-dashboard {
    background: #f8fafc;
    min-height: 100vh;
}

/* Sidebar Navigation */
.meesho-sidebar {
    position: fixed;
    left: 0;
    top: 70px;
    width: 260px;
    height: calc(100vh - 70px);
    background: white;
    border-right: 1px solid #e2e8f0;
    overflow-y: auto;
    z-index: 999;
    transition: all 0.3s ease;
}

.meesho-sidebar-item {
    padding: 16px 24px;
    color: #64748b;
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: 12px;
    font-weight: 500;
    border-left: 3px solid transparent;
    transition: all 0.2s ease;
}

.meesho-sidebar-item:hover {
    background: #f1f5f9;
    color: #3B5998;
    text-decoration: none;
}

.meesho-sidebar-item.active {
    background: #E8EEF7;
    color: #3B5998;
    border-left-color: #3B5998;
    font-weight: 600;
}

.meesho-sidebar-item i {
    font-size: 18px;
    width: 20px;
}

/* Main Content */
.meesho-main-content {
    margin-left: 260px;
    padding: 24px;
    min-height: calc(100vh - 70px);
    max-width: 1400px;
}

/* Header Section */
.meesho-page-header {
    background: linear-gradient(135deg, #3B5998 0%, #2C4373 100%);
    color: white;
    padding: 32px;
    border-radius: 16px;
    margin-bottom: 24px;
    box-shadow: 0 10px 30px rgba(59, 89, 152, 0.2);
}

/* Stats Cards */
.meesho-stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 24px;
}

.meesho-stat-card {
    background: white;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    border-left: 4px solid #3B5998;
    transition: all 0.3s ease;
}

.meesho-stat-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
}

.meesho-stat-number {
    font-size: 32px;
    font-weight: 800;
    color: #3B5998;
    margin-bottom: 4px;
}

.meesho-stat-label {
    color: #64748b;
    font-size: 13px;
    font-weight: 600;
    text-transform: uppercase;
}

/* Section Card */
.meesho-card {
    background: white;
    border-radius: 12px;
    padding: 24px;
    margin-bottom: 24px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

.meesho-card-title {
    font-size: 18px;
    font-weight: 700;
    color: #1e293b;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 10px;
}

/* Tabs */
.meesho-tabs {
    display: flex;
    gap: 8px;
    border-bottom: 2px solid #e2e8f0;
    margin-bottom: 20px;
    overflow-x: auto;
}

.meesho-tab {
    padding: 12px 20px;
    color: #64748b;
    font-weight: 600;
    border: none;
    background: none;
    cursor: pointer;
    border-bottom: 3px solid transparent;
    transition: all 0.2s ease;
    white-space: nowrap;
}

.meesho-tab:hover {
    color: #3B5998;
}

.meesho-tab.active {
    color: #3B5998;
    border-bottom-color: #3B5998;
}

/* Table */
.meesho-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0 8px;
}

.meesho-table thead th {
    background: #f8fafc;
    padding: 12px 16px;
    text-align: left;
    font-size: 13px;
    font-weight: 700;
    color: #64748b;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.meesho-table tbody tr {
    background: white;
    transition: all 0.2s ease;
}

.meesho-table tbody tr:hover {
    background: #f8fafc;
    transform: scale(1.01);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.meesho-table tbody td {
    padding: 16px;
    border-top: 1px solid #f1f5f9;
    border-bottom: 1px solid #f1f5f9;
}

.meesho-table tbody td:first-child {
    border-left: 1px solid #f1f5f9;
    border-radius: 8px 0 0 8px;
}

.meesho-table tbody td:last-child {
    border-right: 1px solid #f1f5f9;
    border-radius: 0 8px 8px 0;
}

/* Badges */
.meesho-badge {
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
    display: inline-block;
}

.badge-pending { background: #fef3c7; color: #92400e; }
.badge-confirmed { background: #dbeafe; color: #1e40af; }
.badge-ready { background: #e0e7ff; color: #4338ca; }
.badge-shipped { background: #e0f2fe; color: #0369a1; }
.badge-delivered { background: #dcfce7; color: #15803d; }
.badge-cancelled { background: #fee2e2; color: #991b1b; }
.badge-active { background: #dcfce7; color: #15803d; }
.badge-inactive { background: #f3f4f6; color: #6b7280; }

/* Buttons */
.meesho-btn {
    padding: 10px 20px;
    border-radius: 8px;
    font-weight: 600;
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
}

.meesho-btn-primary {
    background: linear-gradient(135deg, #3B5998 0%, #2C4373 100%);
    color: white;
}

.meesho-btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(59, 89, 152, 0.3);
}

.meesho-btn-outline {
    background: white;
    color: #3B5998;
    border: 2px solid #3B5998;
}

.meesho-btn-outline:hover {
    background: #3B5998;
    color: white;
}

/* Empty State */
.meesho-empty {
    text-align: center;
    padding: 60px 20px;
}

.meesho-empty i {
    font-size: 64px;
    color: #cbd5e1;
    margin-bottom: 16px;
}

.meesho-empty h4 {
    color: #64748b;
    margin-bottom: 8px;
}

.meesho-empty p {
    color: #94a3b8;
    margin-bottom: 24px;
}

/* Mobile Menu Toggle */
.meesho-mobile-toggle {
    display: none;
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 56px;
    height: 56px;
    background: linear-gradient(135deg, #3B5998 0%, #2C4373 100%);
    border-radius: 50%;
    color: white;
    font-size: 24px;
    border: none;
    box-shadow: 0 4px 12px rgba(59, 89, 152, 0.4);
    z-index: 1001;
    cursor: pointer;
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .meesho-sidebar {
        left: -260px;
    }
    
    .meesho-sidebar.active {
        left: 0;
    }
    
    .meesho-main-content {
        margin-left: 0;
        padding: 16px;
        max-width: 100%;
    }
    
    .meesho-stats-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .meesho-table {
        display: block;
        overflow-x: auto;
    }
}
</style>

<!-- Sidebar Navigation -->
<div class="meesho-sidebar" id="meeshoSidebar">
    <a href="#overview" class="meesho-sidebar-item active" onclick="showSection('overview')">
        <i class="fas fa-home"></i>
        <span>Overview</span>
    </a>
    <a href="#orders" class="meesho-sidebar-item" onclick="showSection('orders')">
        <i class="fas fa-shopping-cart"></i>
        <span>Orders</span>
    </a>
    <a href="#catalog" class="meesho-sidebar-item" onclick="showSection('catalog')">
        <i class="fas fa-box"></i>
        <span>Catalog</span>
    </a>
    <a href="#inventory" class="meesho-sidebar-item" onclick="showSection('inventory')">
        <i class="fas fa-warehouse"></i>
        <span>Inventory</span>
    </a>
    <a href="#payments" class="meesho-sidebar-item" onclick="showSection('payments')">
        <i class="fas fa-rupee-sign"></i>
        <span>Payments</span>
    </a>
    <a href="#returns" class="meesho-sidebar-item" onclick="showSection('returns')">
        <i class="fas fa-undo"></i>
        <span>Returns & RTO</span>
    </a>
    <a href="#advertisement" class="meesho-sidebar-item" onclick="showSection('advertisement')">
        <i class="fas fa-bullhorn"></i>
        <span>Advertisement</span>
    </a>
    <a href="#quality" class="meesho-sidebar-item" onclick="showSection('quality')">
        <i class="fas fa-star"></i>
        <span>Quality Dashboard</span>
    </a>
    <a href="#support" class="meesho-sidebar-item" onclick="showSection('support')">
        <i class="fas fa-headset"></i>
        <span>Support</span>
    </a>
</div>

<!-- Mobile Toggle Button -->
<button class="meesho-mobile-toggle" onclick="toggleSidebar()">
    <i class="fas fa-bars"></i>
</button>

<!-- Main Content -->
<div class="meesho-main-content meesho-dashboard">
    
    <!-- Overview Section -->
    <div id="section-overview" class="meesho-section-content">
        <div class="meesho-page-header">
            <div class="d-flex justify-content-between align-items-start">
                <div>
                    <h1 style="font-weight: 800; font-size: 28px; margin-bottom: 8px;">
                        <i class="fas fa-store me-2"></i>{{ vendor.store_name }}
                    </h1>
                    <p class="mb-0" style="opacity: 0.9;">Welcome back, {{ request.user.username }}!</p>
                </div>
                {% if vendor.is_verified %}
                    <span class="badge" style="background: #10b981; padding: 10px 16px;">
                        <i class="fas fa-check-circle me-1"></i>Verified
                    </span>
                {% else %}
                    <span class="badge" style="background: #f59e0b; padding: 10px 16px;">
                        <i class="fas fa-clock me-1"></i>Pending
                    </span>
                {% endif %}
            </div>
        </div>

        <!-- Stats Cards -->
        <div class="meesho-stats-grid">
            <div class="meesho-stat-card">
                <div class="meesho-stat-number">{{ products.count }}</div>
                <div class="meesho-stat-label"><i class="fas fa-box me-1"></i>Total Products</div>
            </div>
            <div class="meesho-stat-card" style="border-left-color: #5B7CBE;">
                <div class="meesho-stat-number" style="color: #5B7CBE;">0</div>
                <div class="meesho-stat-label"><i class="fas fa-shopping-cart me-1"></i>Total Orders</div>
            </div>
            <div class="meesho-stat-card" style="border-left-color: #10b981;">
                <div class="meesho-stat-number" style="color: #10b981;">₹0</div>
                <div class="meesho-stat-label"><i class="fas fa-rupee-sign me-1"></i>Revenue</div>
            </div>
            <div class="meesho-stat-card" style="border-left-color: #f59e0b;">
                <div class="meesho-stat-number" style="color: #f59e0b;">4.5</div>
                <div class="meesho-stat-label"><i class="fas fa-star me-1"></i>Avg Rating</div>
            </div>
        </div>

        <!-- Recent Activity -->
        <div class="meesho-card">
            <h3 class="meesho-card-title">
                <i class="fas fa-chart-line" style="color: #3B5998;"></i>Recent Activity
            </h3>
            <p style="color: #64748b;">No recent activity to display.</p>
        </div>
    </div>

    <!-- Orders Section -->
    <div id="section-orders" class="meesho-section-content" style="display: none;">
        <div class="meesho-card">
            <h3 class="meesho-card-title">
                <i class="fas fa-shopping-cart" style="color: #3B5998;"></i>Order Management
            </h3>
            
            <div class="meesho-tabs">
                <button class="meesho-tab active" onclick="showOrderTab('pending')">Pending</button>
                <button class="meesho-tab" onclick="showOrderTab('ready')">Ready to Ship</button>
                <button class="meesho-tab" onclick="showOrderTab('shipped')">Shipped</button>
                <button class="meesho-tab" onclick="showOrderTab('delivered')">Delivered</button>
                <button class="meesho-tab" onclick="showOrderTab('cancelled')">Cancelled</button>
                <button class="meesho-tab" onclick="showOrderTab('onhold')">On Hold</button>
            </div>

            <div id="order-pending" class="order-tab-content">
                <div class="meesho-empty">
                    <i class="fas fa-inbox"></i>
                    <h4>No Pending Orders</h4>
                    <p>New orders will appear here for you to accept or cancel</p>
                </div>
            </div>

            <div id="order-ready" class="order-tab-content" style="display: none;">
                <div class="meesho-empty">
                    <i class="fas fa-box"></i>
                    <h4>No Orders Ready to Ship</h4>
                    <p>Orders ready for shipping will appear here</p>
                </div>
            </div>

            <div id="order-shipped" class="order-tab-content" style="display: none;">
                <div class="meesho-empty">
                    <i class="fas fa-shipping-fast"></i>
                    <h4>No Shipped Orders</h4>
                    <p>Track your shipped orders here</p>
                </div>
            </div>

            <div id="order-delivered" class="order-tab-content" style="display: none;">
                <div class="meesho-empty">
                    <i class="fas fa-check-circle"></i>
                    <h4>No Delivered Orders</h4>
                    <p>Successfully delivered orders will appear here</p>
                </div>
            </div>

            <div id="order-cancelled" class="order-tab-content" style="display: none;">
                <div class="meesho-empty">
                    <i class="fas fa-times-circle"></i>
                    <h4>No Cancelled Orders</h4>
                    <p>Cancelled orders will be listed here</p>
                </div>
            </div>

            <div id="order-onhold" class="order-tab-content" style="display: none;">
                <div class="meesho-empty">
                    <i class="fas fa-pause-circle"></i>
                    <h4>No Orders On Hold</h4>
                    <p>Orders with issues will appear here</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Catalog Section -->
    <div id="section-catalog" class="meesho-section-content" style="display: none;">
        <div class="meesho-card">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h3 class="meesho-card-title mb-0">
                    <i class="fas fa-box" style="color: #3B5998;"></i>Product Catalog
                </h3>
                <a href="{% url 'vendors:add_product' %}" class="meesho-btn meesho-btn-primary">
                    <i class="fas fa-plus me-2"></i>Add Product
                </a>
            </div>

            <div class="meesho-tabs">
                <button class="meesho-tab active" onclick="showCatalogTab('active')">Active ({{ products.count }})</button>
                <button class="meesho-tab" onclick="showCatalogTab('pending')">Pending QC (0)</button>
                <button class="meesho-tab" onclick="showCatalogTab('blocked')">Blocked (0)</button>
                <button class="meesho-tab" onclick="showCatalogTab('paused')">Paused (0)</button>
            </div>

            <div id="catalog-active" class="catalog-tab-content">
                {% if products %}
                <table class="meesho-table">
                    <thead>
                        <tr>
                            <th>Product</th>
                            <th>Category</th>
                            <th>Price</th>
                            <th>Stock</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for product in products %}
                        <tr>
                            <td>
                                <div class="d-flex align-items-center gap-3">
                                    {% if product.images.first %}
                                        <img src="{{ product.images.first.image.url }}" alt="{{ product.name }}" 
                                             style="width: 50px; height: 50px; object-fit: cover; border-radius: 8px;">
                                    {% else %}
                                        <div style="width: 50px; height: 50px; background: #e2e8f0; border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                            <i class="fas fa-image" style="color: #94a3b8;"></i>
                                        </div>
                                    {% endif %}
                                    <div>
                                        <strong>{{ product.name }}</strong>
                                    </div>
                                </div>
                            </td>
                            <td>{{ product.category.name|default:"Uncategorized" }}</td>
                            <td><strong style="color: #3B5998;">₹{{ product.selling_price }}</strong></td>
                            <td>{{ product.stock }}</td>
                            <td>
                                {% if product.is_active %}
                                    <span class="meesho-badge badge-active">Active</span>
                                {% else %}
                                    <span class="meesho-badge badge-inactive">Inactive</span>
                                {% endif %}
                            </td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary me-1" style="border-radius: 6px;">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-sm btn-outline-danger" style="border-radius: 6px;">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
                {% else %}
                <div class="meesho-empty">
                    <i class="fas fa-box-open"></i>
                    <h4>No Products Yet</h4>
                    <p>Start adding products to your catalog</p>
                    <a href="{% url 'vendors:add_product' %}" class="meesho-btn meesho-btn-primary">
                        <i class="fas fa-plus me-2"></i>Add Your First Product
                    </a>
                </div>
                {% endif %}
            </div>

            <div id="catalog-pending" class="catalog-tab-content" style="display: none;">
                <div class="meesho-empty">
                    <i class="fas fa-clock"></i>
                    <h4>No Products Pending QC</h4>
                    <p>Products awaiting quality check will appear here</p>
                </div>
            </div>

            <div id="catalog-blocked" class="catalog-tab-content" style="display: none;">
                <div class="meesho-empty">
                    <i class="fas fa-ban"></i>
                    <h4>No Blocked Products</h4>
                    <p>Products that didn't pass QC will be listed here</p>
                </div>
            </div>

            <div id="catalog-paused" class="catalog-tab-content" style="display: none;">
                <div class="meesho-empty">
                    <i class="fas fa-pause-circle"></i>
                    <h4>No Paused Products</h4>
                    <p>Temporarily paused products will appear here</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Inventory Section -->
    <div id="section-inventory" class="meesho-section-content" style="display: none;">
        <div class="meesho-card">
            <h3 class="meesho-card-title">
                <i class="fas fa-warehouse" style="color: #3B5998;"></i>Inventory Management
            </h3>

            <div class="row mb-4">
                <div class="col-md-4">
                    <div style="background: #dcfce7; padding: 20px; border-radius: 12px; text-align: center;">
                        <div style="font-size: 32px; font-weight: 800; color: #15803d;">{{ products.count }}</div>
                        <div style="color: #15803d; font-weight: 600;">In Stock</div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div style="background: #fee2e2; padding: 20px; border-radius: 12px; text-align: center;">
                        <div style="font-size: 32px; font-weight: 800; color: #991b1b;">0</div>
                        <div style="color: #991b1b; font-weight: 600;">Out of Stock</div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div style="background: #fef3c7; padding: 20px; border-radius: 12px; text-align: center;">
                        <div style="font-size: 32px; font-weight: 800; color: #92400e;">0</div>
                        <div style="color: #92400e; font-weight: 600;">Low Quantity</div>
                    </div>
                </div>
            </div>

            {% if products %}
            <table class="meesho-table">
                <thead>
                    <tr>
                        <th>Product</th>
                        <th>Current Stock</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for product in products %}
                    <tr>
                        <td>
                            <div class="d-flex align-items-center gap-3">
                                {% if product.images.first %}
                                    <img src="{{ product.images.first.image.url }}" alt="{{ product.name }}" 
                                         style="width: 50px; height: 50px; object-fit: cover; border-radius: 8px;">
                                {% else %}
                                    <div style="width: 50px; height: 50px; background: #e2e8f0; border-radius: 8px;"></div>
                                {% endif %}
                                <strong>{{ product.name }}</strong>
                            </div>
                        </td>
                        <td><strong style="font-size: 18px; color: #3B5998;">{{ product.stock }}</strong></td>
                        <td>
                            {% if product.stock > 10 %}
                                <span class="meesho-badge badge-active">In Stock</span>
                            {% elif product.stock > 0 %}
                                <span class="meesho-badge badge-pending">Low Stock</span>
                            {% else %}
                                <span class="meesho-badge badge-cancelled">Out of Stock</span>
                            {% endif %}
                        </td>
                        <td>
                            <button class="meesho-btn meesho-btn-outline" style="padding: 6px 12px; font-size: 14px;">
                                <i class="fas fa-plus me-1"></i>Update Stock
                            </button>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% else %}
            <div class="meesho-empty">
                <i class="fas fa-warehouse"></i>
                <h4>No Inventory Data</h4>
                <p>Add products to track inventory</p>
            </div>
            {% endif %}
        </div>
    </div>

    <!-- Payments Section -->
    <div id="section-payments" class="meesho-section-content" style="display: none;">
        <div class="meesho-card">
            <h3 class="meesho-card-title">
                <i class="fas fa-rupee-sign" style="color: #3B5998;"></i>Payment Management
            </h3>

            <div class="meesho-tabs">
                <button class="meesho-tab active" onclick="showPaymentTab('submitted')">Submitted</button>
                <button class="meesho-tab" onclick="showPaymentTab('upcoming')">Upcoming</button>
                <button class="meesho-tab" onclick="showPaymentTab('deductions')">Deductions</button>
                <button class="meesho-tab" onclick="showPaymentTab('compensation')">Compensation</button>
            </div>

            <div id="payment-submitted" class="payment-tab-content">
                <div class="meesho-empty">
                    <i class="fas fa-file-invoice-dollar"></i>
                    <h4>No Submitted Payments</h4>
                    <p>Payments submitted for processing will appear here</p>
                </div>
            </div>

            <div id="payment-upcoming" class="payment-tab-content" style="display: none;">
                <div class="meesho-empty">
                    <i class="fas fa-calendar-alt"></i>
                    <h4>No Upcoming Payments</h4>
                    <p>Your next payment schedule will be displayed here</p>
                </div>
            </div>

            <div id="payment-deductions" class="payment-tab-content" style="display: none;">
                <div class="meesho-empty">
                    <i class="fas fa-minus-circle"></i>
                    <h4>No Deductions</h4>
                    <p>Payment deductions and charges will be listed here</p>
                </div>
            </div>

            <div id="payment-compensation" class="payment-tab-content" style="display: none;">
                <div class="meesho-empty">
                    <i class="fas fa-gift"></i>
                    <h4>No Compensations</h4>
                    <p>Compensation credits will appear here</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Returns & RTO Section -->
    <div id="section-returns" class="meesho-section-content" style="display: none;">
        <div class="meesho-card">
            <h3 class="meesho-card-title">
                <i class="fas fa-undo" style="color: #3B5998;"></i>Returns & RTO Management
            </h3>

            <div class="meesho-tabs">
                <button class="meesho-tab active" onclick="showReturnTab('rto')">RTO (Return to Origin)</button>
                <button class="meesho-tab" onclick="showReturnTab('customer')">Customer Returns</button>
            </div>

            <div id="return-rto" class="return-tab-content">
                <div class="meesho-empty">
                    <i class="fas fa-truck-loading"></i>
                    <h4>No RTO Returns</h4>
                    <p>Returns due to delivery issues will appear here</p>
                </div>
            </div>

            <div id="return-customer" class="return-tab-content" style="display: none;">
                <div class="meesho-empty">
                    <i class="fas fa-user-times"></i>
                    <h4>No Customer Returns</h4>
                    <p>Customer initiated returns will be listed here</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Advertisement Section -->
    <div id="section-advertisement" class="meesho-section-content" style="display: none;">
        <div class="meesho-card">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h3 class="meesho-card-title mb-0">
                    <i class="fas fa-bullhorn" style="color: #3B5998;"></i>Advertisement & Visibility
                </h3>
                <button class="meesho-btn meesho-btn-primary">
                    <i class="fas fa-plus me-2"></i>Create Campaign
                </button>
            </div>

            <div class="meesho-empty">
                <i class="fas fa-ad"></i>
                <h4>No Active Campaigns</h4>
                <p>Boost your product visibility with targeted ads</p>
                <button class="meesho-btn meesho-btn-primary">
                    <i class="fas fa-rocket me-2"></i>Start Your First Campaign
                </button>
            </div>
        </div>
    </div>

    <!-- Quality Dashboard Section -->
    <div id="section-quality" class="meesho-section-content" style="display: none;">
        <div class="meesho-card">
            <h3 class="meesho-card-title">
                <i class="fas fa-star" style="color: #3B5998;"></i>Quality Dashboard
            </h3>

            <div class="row mb-4">
                <div class="col-md-6">
                    <div style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); padding: 24px; border-radius: 12px; text-align: center;">
                        <div style="font-size: 48px; font-weight: 800; color: #92400e;">4.5</div>
                        <div style="color: #92400e; font-weight: 600; margin-bottom: 8px;">Overall Rating</div>
                        <div style="color: #d97706;">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div style="background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%); padding: 24px; border-radius: 12px; text-align: center;">
                        <div style="font-size: 48px; font-weight: 800; color: #0369a1;">0%</div>
                        <div style="color: #0369a1; font-weight: 600;">Quality Detraction Score</div>
                        <div style="color: #0284c7; font-size: 14px; margin-top: 8px;">Lower is better</div>
                    </div>
                </div>
            </div>

            <h5 style="font-weight: 700; margin-bottom: 16px;">Return Reasons</h5>
            <div class="meesho-empty">
                <i class="fas fa-chart-bar"></i>
                <h4>No Quality Data</h4>
                <p>Quality metrics will appear once you start receiving orders</p>
            </div>
        </div>
    </div>

    <!-- Support Section -->
    <div id="section-support" class="meesho-section-content" style="display: none;">
        <div class="meesho-card">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h3 class="meesho-card-title mb-0">
                    <i class="fas fa-headset" style="color: #3B5998;"></i>Support Center
                </h3>
                <button class="meesho-btn meesho-btn-primary" onclick="showTicketForm()">
                    <i class="fas fa-plus me-2"></i>Create Ticket
                </button>
            </div>

            <div class="row mb-4">
                <div class="col-md-3 col-6 mb-3">
                    <div style="background: #e0e7ff; padding: 16px; border-radius: 12px; text-align: center; cursor: pointer;">
                        <i class="fas fa-box" style="font-size: 32px; color: #4338ca; margin-bottom: 8px;"></i>
                        <div style="font-weight: 600; color: #4338ca;">Cataloging</div>
                    </div>
                </div>
                <div class="col-md-3 col-6 mb-3">
                    <div style="background: #dbeafe; padding: 16px; border-radius: 12px; text-align: center; cursor: pointer;">
                        <i class="fas fa-shipping-fast" style="font-size: 32px; color: #1e40af; margin-bottom: 8px;"></i>
                        <div style="font-weight: 600; color: #1e40af;">Shipping</div>
                    </div>
                </div>
                <div class="col-md-3 col-6 mb-3">
                    <div style="background: #dcfce7; padding: 16px; border-radius: 12px; text-align: center; cursor: pointer;">
                        <i class="fas fa-rupee-sign" style="font-size: 32px; color: #15803d; margin-bottom: 8px;"></i>
                        <div style="font-weight: 600; color: #15803d;">Payments</div>
                    </div>
                </div>
                <div class="col-md-3 col-6 mb-3">
                    <div style="background: #fef3c7; padding: 16px; border-radius: 12px; text-align: center; cursor: pointer;">
                        <i class="fas fa-question-circle" style="font-size: 32px; color: #92400e; margin-bottom: 8px;"></i>
                        <div style="font-weight: 600; color: #92400e;">Other Issues</div>
                    </div>
                </div>
            </div>

            <h5 style="font-weight: 700; margin-bottom: 16px;">Your Tickets</h5>
            <div class="meesho-empty">
                <i class="fas fa-ticket-alt"></i>
                <h4>No Support Tickets</h4>
                <p>Your support requests will appear here</p>
            </div>
        </div>
    </div>

</div>

<script>
// Sidebar Navigation
function showSection(sectionName) {
    // Hide all sections
    document.querySelectorAll('.meesho-section-content').forEach(section => {
        section.style.display = 'none';
    });
    
    // Show selected section
    document.getElementById('section-' + sectionName).style.display = 'block';
    
    // Update active sidebar item
    document.querySelectorAll('.meesho-sidebar-item').forEach(item => {
        item.classList.remove('active');
    });
    event.target.classList.add('active');
    
    // Close sidebar on mobile
    if (window.innerWidth <= 768) {
        document.getElementById('meeshoSidebar').classList.remove('active');
    }
}

// Mobile Sidebar Toggle
function toggleSidebar() {
    document.getElementById('meeshoSidebar').classList.toggle('active');
}

// Order Tabs
function showOrderTab(tab) {
    document.querySelectorAll('.order-tab-content').forEach(content => {
        content.style.display = 'none';
    });
    document.getElementById('order-' + tab).style.display = 'block';
    
    document.querySelectorAll('#section-orders .meesho-tab').forEach(t => {
        t.classList.remove('active');
    });
    event.target.classList.add('active');
}

// Catalog Tabs
function showCatalogTab(tab) {
    document.querySelectorAll('.catalog-tab-content').forEach(content => {
        content.style.display = 'none';
    });
    document.getElementById('catalog-' + tab).style.display = 'block';
    
    document.querySelectorAll('#section-catalog .meesho-tab').forEach(t => {
        t.classList.remove('active');
    });
    event.target.classList.add('active');
}

// Payment Tabs
function showPaymentTab(tab) {
    document.querySelectorAll('.payment-tab-content').forEach(content => {
        content.style.display = 'none';
    });
    document.getElementById('payment-' + tab).style.display = 'block';
    
    document.querySelectorAll('#section-payments .meesho-tab').forEach(t => {
        t.classList.remove('active');
    });
    event.target.classList.add('active');
}

// Return Tabs
function showReturnTab(tab) {
    document.querySelectorAll('.return-tab-content').forEach(content => {
        content.style.display = 'none';
    });
    document.getElementById('return-' + tab).style.display = 'block';
    
    document.querySelectorAll('#section-returns .meesho-tab').forEach(t => {
        t.classList.remove('active');
    });
    event.target.classList.add('active');
}

// Support Ticket Form
function showTicketForm() {
    alert('Support ticket form will open here. Integrate with your backend to create tickets.');
}

// Close sidebar when clicking outside on mobile
document.addEventListener('click', function(event) {
    const sidebar = document.getElementById('meeshoSidebar');
    const toggle = document.querySelector('.meesho-mobile-toggle');
    
    if (window.innerWidth <= 768 && !sidebar.contains(event.target) && !toggle.contains(event.target)) {
        sidebar.classList.remove('active');
    }
});
</script>

{% endblock %}
